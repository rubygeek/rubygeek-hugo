<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Trying out Emberjs Models and views - Rubygeek</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="Trying out Emberjs Models and views" />
<meta property="og:description" content="I&#39;ve read about emberjs and I&#39;ve tried CodeSchool Backbone and the concepts are interesting, I like the concept of a model updating some text on the screen without having to write $(&#39;#myelement&rsquo;).text(&lsquo;updated content&rsquo;) and a friend was mentioning how much they like the emberjs models. So, I wanted to try and in a way I could only worry about a few pieces (that router and junk still kinda makes me crazy for frontend since I do that on the back end.. maybe I just need to do more). I was reading the Ember Documentation and they have some small examples that inspired me. So I set out to try somethings:
I downloaded the Starter Kit from emberjs.com and it had a skeleton index and app.js file ready to go. Nice. I first played around with making a model and calling a method on it." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://rubygeek.com/post/2012-09-03-trying-out-emberjs/" />
<meta property="article:published_time" content="2012-09-03T00:00:00+00:00" />
<meta property="article:modified_time" content="2012-09-03T00:00:00+00:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Trying out Emberjs Models and views"/>
<meta name="twitter:description" content="I&#39;ve read about emberjs and I&#39;ve tried CodeSchool Backbone and the concepts are interesting, I like the concept of a model updating some text on the screen without having to write $(&#39;#myelement&rsquo;).text(&lsquo;updated content&rsquo;) and a friend was mentioning how much they like the emberjs models. So, I wanted to try and in a way I could only worry about a few pieces (that router and junk still kinda makes me crazy for frontend since I do that on the back end.. maybe I just need to do more). I was reading the Ember Documentation and they have some small examples that inspired me. So I set out to try somethings:
I downloaded the Starter Kit from emberjs.com and it had a skeleton index and app.js file ready to go. Nice. I first played around with making a model and calling a method on it."/>
<link href='https://fonts.googleapis.com/css?family=Playfair+Display:700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" media="screen" href="http://rubygeek.comcss/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="http://rubygeek.comcss/main.css" />

	
		<script src="http://rubygeek.comjs/main.js"></script>
</head>

<body>
	<div class="container wrapper">
		<div class="header">
	
	<h1 class="site-title"><a href="http://rubygeek.com">Rubygeek</a></h1>
	<div class="site-description"><nav class="nav social">
			<ul class="flat"></ul>
		</nav>
	</div>

	<nav class="nav">
		<ul class="flat">
			
		</ul>
	</nav>
</div>


		<div class="post">
			<div class="post-header">
				
					<div class="meta">
						<div class="date">
							<span class="day">03</span>
							<span class="rest">Sep 2012</span>
						</div>
					</div>
				
				<div class="matter">
					<h1 class="title">Trying out Emberjs Models and views</h1>
				</div>
			</div>
					
			<div class="markdown">
				<p>I've read about emberjs and I've tried <a href="http://www.codeschool.com/courses/anatomy-of-backbonejs">CodeSchool Backbone</a> and the concepts are interesting, I like the concept of a model updating some text on the screen without having to write $('#myelement&rsquo;).text(&lsquo;updated content&rsquo;) and a friend was mentioning how much they like the emberjs models. So, I wanted to try and in a way I could only worry about a few pieces (that router and junk still kinda makes me crazy for frontend since I do that on the back end.. maybe I just need to do more). I was reading the <a href="http://emberjs.com/documentation/">Ember Documentation</a> and they have some small examples that inspired me. So I set out to try somethings:</p>
<p>I downloaded the <a href="https://github.com/downloads/emberjs/starter-kit/starter-kit.1.0.pre.zip">Starter Kit</a> from <a href="http://www.emberjs.com">emberjs.com</a> and it had a skeleton index and app.js file ready to go. Nice. I first played around with making a model and calling a method on it.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">Person</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Ember</span>.Object.<span style="color:#a6e22e">extend</span>({
    <span style="color:#a6e22e">workout</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>() {
        <span style="color:#a6e22e">alert</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;name&#39;</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; is working out now!&#34;</span>);
    }
});

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">person</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Person</span>.<span style="color:#a6e22e">create</span>({
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Nola Stowe&#34;</span>
});
</code></pre></div><p>So I can then do:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">person</span>.<span style="color:#a6e22e">workout</span>();
</code></pre></div><p>and be able to call my method.</p>
<p>I wanted to try observers next, so I added a workout time to my model and an alert that came up every time it got changed. I added the observer code then tried in the console:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">/* trying out observers, adding an observer onto the person object  */</span>
<span style="color:#a6e22e">person</span>.<span style="color:#a6e22e">addObserver</span>(<span style="color:#e6db74">&#39;workoutTime&#39;</span>, <span style="color:#66d9ef">function</span>(){
    <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#34;your workout time has changed to: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;workoutTime&#39;</span>));
});

<span style="color:#75715e">/*  trying out setting the workoutTime */</span>
<span style="color:#a6e22e">person</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;workoutTime&#39;</span>, <span style="color:#ae81ff">6</span>);
<span style="color:#a6e22e">person</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;workoutTime&#39;</span>, <span style="color:#ae81ff">8</span>);
</code></pre></div><p>Cool. Whenever I called set the observer fired. Gotcha, I thought i could do <!-- raw HTML omitted -->person.workoutTime = 3<!-- raw HTML omitted --> and it would work..but no. You have to call <!-- raw HTML omitted -->person.set(&lsquo;workoutTime&rsquo;, 3)<!-- raw HTML omitted -->. Ok, now I want to make a view and have it automatically update whenever the workoutTime was changed. So I added a view model and a template:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">App</span>.<span style="color:#a6e22e">MyView</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Ember</span>.<span style="color:#a6e22e">View</span>.<span style="color:#a6e22e">extend</span>({
    <span style="color:#e6db74">&#39;templateName&#39;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;workouts&#39;</span>,
    <span style="color:#e6db74">&#39;person&#39;</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">person</span>
});
</code></pre></div><p>Then in index.html</p>
<p>Too lazy to even use a css style block, much less external stylesheet, I inlined some styles so it would be easier to see and not all smashed up in the top left corner. The script tag defines the template, which if you see the name is specified in the model MyView along with the instance variable person.</p>
<p>The UI shows two buttons and the name of the person and what time their workout starts.</p>
<p>Now to add some jquery</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">$</span>(document).<span style="color:#a6e22e">ready</span>(<span style="color:#66d9ef">function</span>(){
  <span style="color:#a6e22e">workoutView</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">App</span>.<span style="color:#a6e22e">MyView</span>.<span style="color:#a6e22e">create</span>();
  <span style="color:#a6e22e">workoutView</span>.<span style="color:#a6e22e">append</span>();
  <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;#change_button_up&#39;</span>).<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#39;click&#39;</span>, <span style="color:#66d9ef">function</span>(){
      <span style="color:#a6e22e">workoutTime</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">person</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;workoutTime&#39;</span>);
      <span style="color:#a6e22e">person</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;workoutTime&#39;</span>, <span style="color:#a6e22e">workoutTime</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
  });
  <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;#change_button_down&#39;</span>).<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#39;click&#39;</span>, <span style="color:#66d9ef">function</span>(){
      <span style="color:#a6e22e">workoutTime</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">person</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;workoutTime&#39;</span>);
      <span style="color:#a6e22e">person</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;workoutTime&#39;</span>, <span style="color:#a6e22e">workoutTime</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>);
  });
});
</code></pre></div><p>I could refactor into a method that takes &ldquo;+1&rdquo; or &ldquo;-1&rdquo; but hey, it works. Kinda cool? Now maybe to learn some more things&hellip;</p>
<p><a href="https://github.com/rubygeek/rubygeek/tree/master/javascript/trying_ember">full source of my example code</a></p>
<p>Update: For those wanting to make a full app, @trek  suggests <a href="http://trek.github.com/">http://trek.github.com/</a> as a structure. Thanks</p>
			</div>

			<div class="tags">
				
					
				
			</div></div>
	</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div> <a href="https://github.com/knadh/hugo-ink">Ink</a> theme on <a href="https://gohugo.io">Hugo</a></div>
	</nav>
</div>


</body>
</html>
