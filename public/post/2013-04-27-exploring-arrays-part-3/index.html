<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Exploring Arrays - Part 3 - Rubygeek</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="Exploring Arrays - Part 3" />
<meta property="og:description" content="Continuing going through the array methods, using Ruby 1.9.3
Element Reference ary[index] → obj or nil ary[start, length] → new_ary or nil ary[range] → new_ary or nil slice(index) → obj or nil slice(start, length) → new_ary or nil slice(range) → new_ary or nil Ok, so we&#39;ve got the &ldquo;normal&rdquo; way to access an array element, simply using the name of the array, [ index ]. If item is not found at index it returns nil." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://rubygeek.com/post/2013-04-27-exploring-arrays-part-3/" />
<meta property="article:published_time" content="2013-04-27T00:00:00+00:00" />
<meta property="article:modified_time" content="2013-04-27T00:00:00+00:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Exploring Arrays - Part 3"/>
<meta name="twitter:description" content="Continuing going through the array methods, using Ruby 1.9.3
Element Reference ary[index] → obj or nil ary[start, length] → new_ary or nil ary[range] → new_ary or nil slice(index) → obj or nil slice(start, length) → new_ary or nil slice(range) → new_ary or nil Ok, so we&#39;ve got the &ldquo;normal&rdquo; way to access an array element, simply using the name of the array, [ index ]. If item is not found at index it returns nil."/>
<link href='https://fonts.googleapis.com/css?family=Playfair+Display:700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" media="screen" href="http://rubygeek.comcss/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="http://rubygeek.comcss/main.css" />

	
		<script src="http://rubygeek.comjs/main.js"></script>
</head>

<body>
	<div class="container wrapper">
		<div class="header">
	
	<h1 class="site-title"><a href="http://rubygeek.com">Rubygeek</a></h1>
	<div class="site-description"><nav class="nav social">
			<ul class="flat"></ul>
		</nav>
	</div>

	<nav class="nav">
		<ul class="flat">
			
		</ul>
	</nav>
</div>


		<div class="post">
			<div class="post-header">
				
					<div class="meta">
						<div class="date">
							<span class="day">27</span>
							<span class="rest">Apr 2013</span>
						</div>
					</div>
				
				<div class="matter">
					<h1 class="title">Exploring Arrays - Part 3</h1>
				</div>
			</div>
					
			<div class="markdown">
				<p>Continuing going through the array methods, using Ruby 1.9.3</p>
<h2 id="element-reference">Element Reference</h2>
<h4 id="aryindex--obj-or-nil">ary[index] → obj or nil</h4>
<h4 id="arystart-length--new-ary-or-nil">ary[start, length] → new_ary or nil</h4>
<h4 id="aryrange--new-ary-or-nil">ary[range] → new_ary or nil</h4>
<h4 id="sliceindex--obj-or-nil">slice(index) → obj or nil</h4>
<h4 id="slicestart-length--new-ary-or-nil">slice(start, length) → new_ary or nil</h4>
<h4 id="slicerange--new-ary-or-nil">slice(range) → new_ary or nil</h4>
<p>Ok, so we've got the &ldquo;normal&rdquo; way to access an array element, simply using the name of the array, [ index ]. If item is not found at index it returns nil.</p>
<p>Then we have  passing a start index and a length. A friend was working on <a href="http://rubykoans.com">rubykoans.com</a> had  question I couldn't answer - Why is ary[4,0] an empty array and not nil?</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#f92672">&gt;&gt;</span> ary <span style="color:#f92672">=</span> <span style="color:#e6db74">%w(</span><span style="color:#e6db74">one two three four</span><span style="color:#e6db74">)</span>
<span style="color:#f92672">=</span><span style="color:#f92672">&gt;</span> <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">one</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">two</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">three</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">four</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">]</span>
<span style="color:#f92672">&gt;&gt;</span> ary<span style="color:#f92672">[</span><span style="color:#ae81ff">0</span><span style="color:#f92672"></span>,<span style="color:#ae81ff">0</span><span style="color:#f92672"></span><span style="color:#f92672">]</span>    <span style="color:#75715e">#expected</span>
<span style="color:#f92672">=</span><span style="color:#f92672">&gt;</span> <span style="color:#f92672">[</span><span style="color:#f92672">]</span>
<span style="color:#f92672">&gt;&gt;</span> ary<span style="color:#f92672">.</span>index(ary<span style="color:#f92672">.</span>last)    <span style="color:#75715e"># index of last item is 3</span>
<span style="color:#f92672">=</span><span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">3</span>
<span style="color:#f92672"></span><span style="color:#f92672">&gt;&gt;</span> ary<span style="color:#f92672">[</span><span style="color:#ae81ff">4</span><span style="color:#f92672"></span>,<span style="color:#ae81ff">0</span><span style="color:#f92672"></span><span style="color:#f92672">]</span>    <span style="color:#75715e"># not expected, no index of 4 exists ?? why return empty array </span>
<span style="color:#f92672">=</span><span style="color:#f92672">&gt;</span> <span style="color:#f92672">[</span><span style="color:#f92672">]</span>
<span style="color:#f92672">&gt;&gt;</span> ary<span style="color:#f92672">[</span><span style="color:#ae81ff">5</span><span style="color:#f92672"></span>,<span style="color:#ae81ff">0</span><span style="color:#f92672"></span><span style="color:#f92672">]</span>    <span style="color:#75715e"># expected, no index of 5</span>
<span style="color:#f92672">=</span><span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">nil</span>
</code></pre></div><p>The docs say</p>
<pre><code>Returns nil if the index (or starting index) are out of range.
</code></pre><p>So yes, thats very confusing&hellip; why is it returning an empty array for last_index+1 of the array??</p>
<p>Moving on .. Passing a range is another way to access elements</p>
<p>I tried accessing an index greater than the end and it works as expected</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#f92672">&gt;&gt;</span> ary<span style="color:#f92672">[</span><span style="color:#ae81ff">0</span><span style="color:#f92672"></span><span style="color:#f92672">..</span><span style="color:#ae81ff">3</span><span style="color:#f92672"></span><span style="color:#f92672">]</span>                        <span style="color:#75715e"># all the elements</span>
<span style="color:#f92672">=</span><span style="color:#f92672">&gt;</span> <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">one</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">two</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">three</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">four</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">]</span>
<span style="color:#f92672">&gt;&gt;</span> ary<span style="color:#f92672">[</span><span style="color:#ae81ff">1</span><span style="color:#f92672"></span><span style="color:#f92672">..</span><span style="color:#ae81ff">2</span><span style="color:#f92672"></span><span style="color:#f92672">]</span>                        <span style="color:#75715e"># just index 1 and 2</span>
<span style="color:#f92672">=</span><span style="color:#f92672">&gt;</span> <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">two</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">three</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">]</span>
<span style="color:#f92672">&gt;&gt;</span> ary<span style="color:#f92672">[</span><span style="color:#ae81ff">1</span><span style="color:#f92672"></span><span style="color:#f92672">..</span><span style="color:#ae81ff">5</span><span style="color:#f92672"></span><span style="color:#f92672">]</span>                        <span style="color:#75715e"># accessing off the end of array</span>
<span style="color:#f92672">=</span><span style="color:#f92672">&gt;</span> <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">two</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">three</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">four</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">]</span>
</code></pre></div><p>It looks as though slice is alias for [ ] &hellip; so everything should work the same.</p>
<h2 id="element-assignment">Element Assignment</h2>
<h4 id="aryindex--obj--obj">ary[index] = obj → obj</h4>
<h4 id="arystart-length--obj-or-other-ary-or-nil--obj-or-other-ary-or-nil">ary[start, length] = obj or other_ary or nil → obj or other_ary or nil</h4>
<h4 id="aryrange--obj-or-other-ary-or-nil--obj-or-other-ary-or-nil">ary[range] = obj or other_ary or nil → obj or other_ary or nil</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#f92672">&gt;&gt;</span> ary<span style="color:#f92672">[</span><span style="color:#ae81ff">0</span><span style="color:#f92672"></span>,<span style="color:#ae81ff">2</span><span style="color:#f92672"></span><span style="color:#f92672">]</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">%w(</span><span style="color:#e6db74">uno dos</span><span style="color:#e6db74">)</span>
<span style="color:#f92672">=</span><span style="color:#f92672">&gt;</span> <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">uno</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dos</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">]</span>
<span style="color:#f92672">&gt;&gt;</span> ary
<span style="color:#f92672">=</span><span style="color:#f92672">&gt;</span> <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">uno</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dos</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">three</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">four</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">]</span>
</code></pre></div><p>Starting at index 0 and for 2 elements, replace with a new array .. works! Never used that before! Cool</p>
<p>also you can use it to clear out values</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#f92672">&gt;&gt;</span> ary
<span style="color:#f92672">=</span><span style="color:#f92672">&gt;</span> <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">uno</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dos</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">three</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">four</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">]</span>
<span style="color:#f92672">&gt;&gt;</span> ary<span style="color:#f92672">[</span><span style="color:#ae81ff">0</span><span style="color:#f92672"></span>,<span style="color:#ae81ff">2</span><span style="color:#f92672"></span><span style="color:#f92672">]</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">nil</span>
<span style="color:#f92672">=</span><span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">nil</span>
<span style="color:#f92672">&gt;&gt;</span> ary
<span style="color:#f92672">=</span><span style="color:#f92672">&gt;</span> <span style="color:#f92672">[</span><span style="color:#66d9ef">nil</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">three</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">four</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">]</span>
</code></pre></div><h2 id="assocobj--new-ary-or-nil">assoc(obj) → new_ary or nil</h2>
<p>This works on an array which is a collection of arrays, and this method will find the first array where the first key matches obj. Odd, not sure when I would use this.</p>
<h2 id="atindex--obj-or-nil">at(index) → obj or nil</h2>
<p>Same thing as  ary[index] .. maybe it would read better, but I'm so used the  [ ] syntax, I will probably use that syntax</p>
<h2 id="clear--ary">clear → ary</h2>
<p>Clear, removes all elements in the array. Didn't know this was there.</p>
<h2 id="collectmap">collect/map</h2>
<h4 id="collect-item-block---new-ary">collect {|item| block } → new_ary</h4>
<h4 id="map-item-block---new-ary">map {|item| block } → new_ary</h4>
<h4 id="collect--an-enumerator">collect → an_enumerator</h4>
<h4 id="map--an-enumerator">map → an_enumerator</h4>
<p>Not the same collect that is in enumerable, it runs the block for each item in the array and returns an array of results.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#f92672">&gt;&gt;</span> <span style="color:#e6db74">%w(</span><span style="color:#e6db74">red blue green yellow orange</span><span style="color:#e6db74">)</span><span style="color:#f92672">.</span>collect { <span style="color:#f92672">|</span>w<span style="color:#f92672">|</span> w<span style="color:#f92672">.</span>upcase }
<span style="color:#f92672">=</span><span style="color:#f92672">&gt;</span> <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">RED</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">BLUE</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">GREEN</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">YELLOW</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">ORANGE</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">]</span>

<span style="color:#f92672">&gt;&gt;</span> <span style="color:#e6db74">%w(</span><span style="color:#e6db74">red blue green yellow orange</span><span style="color:#e6db74">)</span><span style="color:#f92672">.</span>map(<span style="color:#f92672">&amp;</span><span style="color:#e6db74">:upcase</span>)
<span style="color:#f92672">=</span><span style="color:#f92672">&gt;</span> <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">RED</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">BLUE</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">GREEN</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">YELLOW</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">ORANGE</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">]</span>

<span style="color:#f92672">&gt;&gt;</span> <span style="color:#e6db74">%w(</span><span style="color:#e6db74">red blue green yellow orange</span><span style="color:#e6db74">)</span><span style="color:#f92672">.</span>map(<span style="color:#f92672">&amp;</span><span style="color:#e6db74">:upcase</span>)<span style="color:#f92672">.</span>object_id
<span style="color:#f92672">=</span><span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">70349437828620</span>
<span style="color:#f92672"></span><span style="color:#f92672">&gt;&gt;</span> <span style="color:#e6db74">%w(</span><span style="color:#e6db74">red blue green yellow orange</span><span style="color:#e6db74">)</span><span style="color:#f92672">.</span>object_id
<span style="color:#f92672">=</span><span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">70349434016460</span>
<span style="color:#f92672"></span></code></pre></div><p>You can give it a block or a &ldquo;symbol to proc&rdquo;, that is the funny &amp;: followed by a method name. When I first saw that I said what the heck is that? and what is it doing? I mean, how do you google for something like that? I finally found out what it was called&hellip;&ldquo;symbol to proc&rdquo; and now I use it everywhere it makes sense. So Map and Collect appear to be synonyms here. Did not know that&hellip; Usually, I use collect over map since that makes more sense to me, you are collecting results.</p>
<p>That is all for this post, I can replace arrays in to arrays, now I know that collect and map are the same on arrays. Still there is the nagging problem of why on a 4 element array ary[4,0] returns an empty array instead of nil. Anyone know?</p>
<p>Other posts in this series:</p>
<ul>
<li><a href="/2013/02/23/exploring-arrays-part-1">part 1</a></li>
<li><a href="/2013/03/11/exploring-arrays-part-2">part 2</a></li>
</ul>

			</div>

			<div class="tags">
				
					
				
			</div></div>
	</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div> <a href="https://github.com/knadh/hugo-ink">Ink</a> theme on <a href="https://gohugo.io">Hugo</a></div>
	</nav>
</div>


</body>
</html>
