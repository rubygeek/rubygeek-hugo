<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Simple Breadcrumbs - Rubygeek</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="Simple Breadcrumbs" />
<meta property="og:description" content="I needed a simple breadcrumb module/class that would let me set the first crumb and add to it later. I looked at www.ruby-toolbox.com and saw a bunch, none of them looked simple enough for me. I already had a template so I dont care about changing that&hellip;so I whipped up my own breadcrumbs:
class Breadcrumb Crumb = Struct.new(:name, :link) attr_reader :crumbs def initialize(name = &#34;Home&#34;, link = &#34;/&#34;) @crumbs = [] self." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://rubygeek.com/post/2012-11-20-simple-breadcrumbs/" />
<meta property="article:published_time" content="2012-11-20T00:00:00+00:00" />
<meta property="article:modified_time" content="2012-11-20T00:00:00+00:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Simple Breadcrumbs"/>
<meta name="twitter:description" content="I needed a simple breadcrumb module/class that would let me set the first crumb and add to it later. I looked at www.ruby-toolbox.com and saw a bunch, none of them looked simple enough for me. I already had a template so I dont care about changing that&hellip;so I whipped up my own breadcrumbs:
class Breadcrumb Crumb = Struct.new(:name, :link) attr_reader :crumbs def initialize(name = &#34;Home&#34;, link = &#34;/&#34;) @crumbs = [] self."/>
<link href='https://fonts.googleapis.com/css?family=Playfair+Display:700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" media="screen" href="http://rubygeek.comcss/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="http://rubygeek.comcss/main.css" />

	
		<script src="http://rubygeek.comjs/main.js"></script>
</head>

<body>
	<div class="container wrapper">
		<div class="header">
	
	<h1 class="site-title"><a href="http://rubygeek.com">Rubygeek</a></h1>
	<div class="site-description"><nav class="nav social">
			<ul class="flat"></ul>
		</nav>
	</div>

	<nav class="nav">
		<ul class="flat">
			
		</ul>
	</nav>
</div>


		<div class="post">
			<div class="post-header">
				
					<div class="meta">
						<div class="date">
							<span class="day">20</span>
							<span class="rest">Nov 2012</span>
						</div>
					</div>
				
				<div class="matter">
					<h1 class="title">Simple Breadcrumbs</h1>
				</div>
			</div>
					
			<div class="markdown">
				<p>I needed a simple breadcrumb module/class that would let me set the first crumb and add to it later. I looked at <a href="http://www.ruby-toolbox.com">www.ruby-toolbox.com</a> and saw a bunch, none of them looked simple enough for me. I already had a template so I dont care about changing that&hellip;so I whipped up my own breadcrumbs:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Breadcrumb</span>

  <span style="color:#66d9ef">Crumb</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">Struct</span><span style="color:#f92672">.</span>new(<span style="color:#e6db74">:name</span>, <span style="color:#e6db74">:link</span>)

  <span style="color:#66d9ef">attr_reader</span> <span style="color:#e6db74">:crumbs</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e"></span><span style="color:#f92672"></span><span style="color:#a6e22e">initialize</span>(name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Home</span><span style="color:#e6db74">&#34;</span>, link <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">/</span><span style="color:#e6db74">&#34;</span>)
    @crumbs <span style="color:#f92672">=</span> <span style="color:#f92672">[</span><span style="color:#f92672">]</span>
    self<span style="color:#f92672">.</span>add(name, link)
  <span style="color:#66d9ef">end</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e"></span><span style="color:#f92672"></span><span style="color:#a6e22e">add</span>(name, link)
    @crumbs <span style="color:#f92672">&lt;&lt;</span> <span style="color:#66d9ef">Crumb</span><span style="color:#f92672">.</span>new(name,link)
  <span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">end</span>
</code></pre></div><p>After watching <a href="http://www.rubytapas.com">www.rubytapas.com</a> talk about using Struct (I had never really used it before or understood why not just make a class). At first I defined crumb outside of Breadcrumb, then after I had tests, moved inside and it still worked. It seems a bit odd, to have that inside Breadcrumb, but its only accessible inside Breadcrumb so I guess that is good.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby">describe <span style="color:#66d9ef">Breadcrumb</span> <span style="color:#66d9ef">do</span>

  describe <span style="color:#e6db74">&#39;#new&#39;</span> <span style="color:#66d9ef">do</span>

    it <span style="color:#e6db74">&#39;sets default crumb of Home /&#39;</span> <span style="color:#66d9ef">do</span>
      @breadcrumb <span style="color:#f92672">=</span> <span style="color:#66d9ef">Breadcrumb</span><span style="color:#f92672">.</span>new
      @breadcrumb<span style="color:#f92672">.</span>should have(<span style="color:#ae81ff">1</span><span style="color:#f92672"></span>)<span style="color:#f92672">.</span>crumb 
      @breadcrumb<span style="color:#f92672">.</span>crumbs<span style="color:#f92672">.</span>first<span style="color:#f92672">.</span>name<span style="color:#f92672">.</span>should <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;Home&#39;</span>
      @breadcrumb<span style="color:#f92672">.</span>crumbs<span style="color:#f92672">.</span>first<span style="color:#f92672">.</span>link<span style="color:#f92672">.</span>should <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;/&#39;</span>
    <span style="color:#66d9ef">end</span>

    it <span style="color:#e6db74">&#39;sets initial crumb of Main /main&#39;</span> <span style="color:#66d9ef">do</span>
      @breadcrumb <span style="color:#f92672">=</span> <span style="color:#66d9ef">Breadcrumb</span><span style="color:#f92672">.</span>new(<span style="color:#e6db74">&#39;Main&#39;</span>, <span style="color:#e6db74">&#39;/main&#39;</span>)
      @breadcrumb<span style="color:#f92672">.</span>should have(<span style="color:#ae81ff">1</span><span style="color:#f92672"></span>)<span style="color:#f92672">.</span>crumb 
      @breadcrumb<span style="color:#f92672">.</span>crumbs<span style="color:#f92672">.</span>first<span style="color:#f92672">.</span>name<span style="color:#f92672">.</span>should <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;Main&#39;</span>
      @breadcrumb<span style="color:#f92672">.</span>crumbs<span style="color:#f92672">.</span>first<span style="color:#f92672">.</span>link<span style="color:#f92672">.</span>should <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;/main&#39;</span>
    <span style="color:#66d9ef">end</span>
  
  <span style="color:#66d9ef">end</span>

  describe <span style="color:#e6db74">&#39;#add&#39;</span> <span style="color:#66d9ef">do</span>

    it <span style="color:#e6db74">&#39;a second crumb&#39;</span> <span style="color:#66d9ef">do</span>
      @breadcrumb <span style="color:#f92672">=</span> <span style="color:#66d9ef">Breadcrumb</span><span style="color:#f92672">.</span>new
      @breadcrumb<span style="color:#f92672">.</span>add(<span style="color:#e6db74">&#39;Products&#39;</span>, <span style="color:#e6db74">&#39;/products&#39;</span>)
      @breadcrumb<span style="color:#f92672">.</span>should have(<span style="color:#ae81ff">2</span><span style="color:#f92672"></span>)<span style="color:#f92672">.</span>crumbs
    <span style="color:#66d9ef">end</span>

  <span style="color:#66d9ef">end</span>

</code></pre></div><p>output of spec doc</p>
<pre><code>Breadcrumb
  #new
    sets default crumb of Home /
    sets initial crumb of Main /main
  #add
    a second crumb
</code></pre><p>I did a codereview on twitter and got some good comments, and my code is better because of it! Thanks <a href="http://www.twitter.com/benhamill">@benhamil</a> and <a href="http://www.twitter.com/therealadam">@therealadam</a>. See the <a href="https://gist.github.com/4111823">comments on initial versions</a> of the code.</p>

			</div>

			<div class="tags">
				
					
				
			</div></div>
	</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div> <a href="https://github.com/knadh/hugo-ink">Ink</a> theme on <a href="https://gohugo.io">Hugo</a></div>
	</nav>
</div>


</body>
</html>
